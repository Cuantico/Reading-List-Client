(window.webpackJsonpclient=window.webpackJsonpclient||[]).push([[0],{33:function(e,n,t){e.exports=t(46)},38:function(e,n,t){},46:function(e,n,t){"use strict";t.r(n);var a=t(1),r=t.n(a),l=t(19),o=t.n(l),i=(t(38),t(12)),c=t(7),u=t(17),m=t(18);function d(){var e=Object(m.a)(["\n  query($id: ID) {\n    book(id: $id) {\n      id\n      name\n      genre\n      author {\n        id\n        name\n        age\n        books {\n          name\n          id\n        }\n      }\n    }\n  }\n"]);return d=function(){return e},e}function b(){var e=Object(m.a)(["\n  mutation($name: String!, $genre: String!, $authorid: ID!) {\n    addBook(name: $name, genre: $genre, authorid: $authorid) {\n      name\n      id\n    }\n  }\n"]);return b=function(){return e},e}function E(){var e=Object(m.a)(["\n  {\n    authors {\n      name\n      id\n    }\n  }\n"]);return E=function(){return e},e}function s(){var e=Object(m.a)(["\n  {\n    books {\n      name\n      id\n    }\n  }\n"]);return s=function(){return e},e}var v=Object(i.b)(s()),f=Object(i.b)(E()),p=Object(i.b)(b()),g=Object(i.b)(d()),O=t(11);var h=function(e){var n=Object(O.b)(g,{variables:e.bookid}),t=n.loading,a=n.error,l=n.data;return t?r.a.createElement("div",{id:"Book-details"},r.a.createElement("p",null,"Loading books...")):a?(console.log("error:",a),r.a.createElement("p",null,"Error :(")):r.a.createElement("div",{id:"Book-details"},function(){var e=l.book;return e?r.a.createElement("div",null,r.a.createElement("h2",null,e.name),r.a.createElement("p",null,e.genre),r.a.createElement("p",null,e.author.name),r.a.createElement("p",null,"All books by this author"),r.a.createElement("ul",{className:"other-books"},e.author.books.map((function(e){return r.a.createElement("li",{key:e.id},e.name)})))):r.a.createElement("div",null,"No book selected...")}())};var k=function(){var e=Object(a.useState)(null),n=Object(u.a)(e,2),t=n[0],l=n[1],o=Object(O.b)(v),i=o.loading,c=o.error,m=o.data;if(i)return r.a.createElement("p",null,"Loading books...");if(c)return console.log("error:",c),r.a.createElement("p",null,"Error :(");var d=m.books.map((function(e){var n=e.name,t=e.id;return r.a.createElement("li",{key:t,onClick:function(e){l({id:t})}},n)}));return r.a.createElement("div",null,r.a.createElement("ul",{id:"book-list"},d),r.a.createElement(h,{bookid:t}))},j=t(22),y=t(32),w=t(23);var D=function(e){var n=Object(a.useState)([]),t=Object(u.a)(n,2),l=t[0],o=t[1],i=Object(w.b)(),c=Object(O.b)(f),m=c.loading,d=c.data,b=Object(O.a)(p),E=Object(u.a)(b,2),s=E[0],g=E[1].error;if(m)return r.a.createElement("p",null,"Loading authors...");if(g)return console.log("error:",g),r.a.createElement("p",null,"Error :(");var h=d.authors.map((function(e){var n=e.name,t=e.id;return r.a.createElement("option",{key:t,value:t},n)})),k=function(e){e.preventDefault(),o(Object(y.a)({},l,Object(j.a)({},e.target.name,e.target.value)))};return r.a.createElement("form",{id:"add-book",onSubmit:function(e){e.preventDefault(),console.log(l),i({type:"ADDBOOK",payload:l}),s({variables:{name:l.name,genre:l.genre,authorid:l.authorid},refetchQueries:[{query:v}]})}.bind(e)},r.a.createElement("div",{className:"field"},r.a.createElement("label",null,"Book name:"),r.a.createElement("input",{type:"text",required:!0,name:"name",onChange:k})),r.a.createElement("div",{className:"field"},r.a.createElement("label",null,"Genre:"),r.a.createElement("input",{type:"text",required:!0,name:"genre",onChange:k})),r.a.createElement("div",{className:"field"},r.a.createElement("label",null,"Author:"),r.a.createElement("select",{name:"authorid",required:!0,onChange:k},r.a.createElement("option",null),h)),r.a.createElement("button",null,"+"))},_=new i.a({uri:"https://reading-list-server.herokuapp.com/graphql"});var N=function(){return r.a.createElement(c.a,{client:_},r.a.createElement("div",{id:"main"},r.a.createElement("h1",null,"Ninja's Reading List "),r.a.createElement(k,null),r.a.createElement(D,null)))},S=t(14),$={name:"",genre:"",authorid:""},B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"ADDBOOK":return n.payload;default:return e}},L=Object(S.b)({book:B}),q=Object(S.c)(L,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__({trace:!0,traceLimit:25}));o.a.render(r.a.createElement(w.a,{store:q},r.a.createElement(N,null)),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.56bd7b23.chunk.js.map